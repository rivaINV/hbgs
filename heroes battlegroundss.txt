local url = "https://protected-roblox-scripts.onrender.com/9223414cdbd6a7e1adc86f722ab25eae"

local function printProgress(percent)
    local barLength = 20
    local filledLength = math.floor(barLength * percent / 100)
    local bar = string.rep("█", filledLength) .. string.rep("░", barLength - filledLength)
    print(string.format("[Loading] %3d%% [%s]", percent, bar))
end

print("[Loading] Warming up the server (multiple requests)...")
for i = 1, 3 do
    local warmupSuccess = pcall(function()
        game:HttpGet(url)
    end)
    if warmupSuccess then
        print(string.format("[Loading] Warmup request #%d sent.", i))
    else
        warn(string.format("[Loading] Warmup request #%d failed.", i))
    end
    printProgress(5 + i * 5)
    wait(1)
end

for i = 1, 8 do
    wait(0.5)
    printProgress(20 + i * 10)
end

printProgress(100)
print("[Loading] The server is warm, loading the script...")

local success, result = pcall(function()
    return game:HttpGet(url)
end)
if success and result and #result > 0 then
    local ok, err = pcall(function()
        loadstring(result)()
    end)
    if ok then
        print("[Loading] Script loaded successfully!")
    else
        warn("[Loading] Script error: " .. tostring(err))
        warn("[Loading] Please inject script again.")
    end
else
    warn("[Loading] Failed to load script. Please inject script again.")
end
